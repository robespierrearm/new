# üìã –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è: –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è –∞–¥–º–∏–Ω–∫–∏

## ‚ö†Ô∏è –í–∞–∂–Ω–æ!

–≠—Ç–∞ –º–∏–≥—Ä–∞—Ü–∏—è —Å–æ–∑–¥–∞–µ—Ç —Ç–∞–±–ª–∏—Ü—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ –ª–æ–≥–∞–º–∏ –¥–µ–π—Å—Ç–≤–∏–π.

## üîß –®–∞–≥–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è:

### 1. –û—Ç–∫—Ä–æ–π—Ç–µ SQL Editor –≤ Supabase

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ —Å—Å—ã–ª–∫–µ:
```
https://supabase.com/dashboard/project/dauikktsjknklmyonjik/sql/new
```

### 2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ SQL –∫–æ–¥

–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª:
```
supabase/migrations/20251017_create_admin_tables.sql
```

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–µ—Å—å SQL –∫–æ–¥ –∏–∑ —ç—Ç–æ–≥–æ —Ñ–∞–π–ª–∞.

### 3. –í—Å—Ç–∞–≤—å—Ç–µ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ

1. –í—Å—Ç–∞–≤—å—Ç–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥ –≤ SQL Editor
2. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"Run"** (–∏–ª–∏ Ctrl/Cmd + Enter)
3. –î–æ–∂–¥–∏—Ç–µ—Å—å —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± —É—Å–ø–µ—à–Ω–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏

### 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω—ã:

**–¢–∞–±–ª–∏—Ü—ã:**
- ‚úÖ `users` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–∏—Å—Ç–µ–º—ã
- ‚úÖ `activity_logs` - –∂—É—Ä–Ω–∞–ª –¥–µ–π—Å—Ç–≤–∏–π

**–ì–ª–∞–≤–Ω—ã–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä:**
- ‚úÖ Email: `Armen@gmail.com`
- ‚úÖ –ü–∞—Ä–æ–ª—å: `Armen@gmail.com`
- ‚úÖ –ò–º—è: `Armen`

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü:

### –¢–∞–±–ª–∏—Ü–∞ `users`:

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| id | BIGSERIAL | ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| username | TEXT | –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| email | TEXT | Email (—É–Ω–∏–∫–∞–ª—å–Ω—ã–π) |
| password | TEXT | –ü–∞—Ä–æ–ª—å |
| is_online | BOOLEAN | –°—Ç–∞—Ç—É—Å –æ–Ω–ª–∞–π–Ω |
| last_activity | TIMESTAMPTZ | –í—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ |
| created_at | TIMESTAMPTZ | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è |
| updated_at | TIMESTAMPTZ | –î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è |

### –¢–∞–±–ª–∏—Ü–∞ `activity_logs`:

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| id | BIGSERIAL | ID –∑–∞–ø–∏—Å–∏ |
| user_id | BIGINT | ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| username | TEXT | –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| action | TEXT | –û–ø–∏—Å–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—è |
| action_type | TEXT | –¢–∏–ø –¥–µ–π—Å—Ç–≤–∏—è |
| details | JSONB | –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–µ—Ç–∞–ª–∏ |
| created_at | TIMESTAMPTZ | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è |

## üîê –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É:

–ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–∏ –≤—ã –º–æ–∂–µ—Ç–µ –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É:

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É `/login`
2. –í–≤–µ–¥–∏—Ç–µ:
   - Email: `Armen@gmail.com`
   - –ü–∞—Ä–æ–ª—å: `Armen@gmail.com`
3. –ù–∞–∂–º–∏—Ç–µ "–í–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É"

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞:

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –∑–∞–ø—Ä–æ—Å –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:

```sql
-- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
SELECT * FROM users;

-- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
SELECT * FROM activity_logs;
```

–î–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤–∏–¥–µ–Ω –≥–ª–∞–≤–Ω—ã–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä Armen.

## üö® –í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:

### –û—à–∏–±–∫–∞: "relation already exists"

–¢–∞–±–ª–∏—Ü–∞ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç. –ú–æ–∂–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –∏–ª–∏ —É–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—É—é:

```sql
DROP TABLE IF EXISTS users CASCADE;
DROP TABLE IF EXISTS activity_logs CASCADE;
```

–ó–∞—Ç–µ–º –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é –∑–∞–Ω–æ–≤–æ.

### –û—à–∏–±–∫–∞: "duplicate key value"

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —Ç–∞–∫–∏–º email —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç. –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –º–∏–≥—Ä–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `ON CONFLICT DO NOTHING`.

## üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

1. ‚úÖ –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é
2. ‚úÖ –í–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É —á–µ—Ä–µ–∑ `/login`
3. ‚úÖ –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∫–ª–∞–¥–∫—É "–ê–¥–º–∏–Ω–∫–∞"
4. ‚úÖ –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
5. ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∂—É—Ä–Ω–∞–ª –¥–µ–π—Å—Ç–≤–∏–π

---

**–ì–æ—Ç–æ–≤–æ!** üéâ

–ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–∏ —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ!
